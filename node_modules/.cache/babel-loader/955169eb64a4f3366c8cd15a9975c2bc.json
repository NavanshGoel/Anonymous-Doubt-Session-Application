{"ast":null,"code":"'use strict';\n\nconst {\n  URL\n} = require('url');\n\nconst is = require('@sindresorhus/is');\n\nconst knownHookEvents = require('./known-hook-events');\n\nconst merge = (target, ...sources) => {\n  for (const source of sources) {\n    for (const [key, sourceValue] of Object.entries(source)) {\n      if (is.undefined(sourceValue)) {\n        continue;\n      }\n\n      const targetValue = target[key];\n\n      if (is.urlInstance(targetValue) && (is.urlInstance(sourceValue) || is.string(sourceValue))) {\n        target[key] = new URL(sourceValue, targetValue);\n      } else if (is.plainObject(sourceValue)) {\n        if (is.plainObject(targetValue)) {\n          target[key] = merge({}, targetValue, sourceValue);\n        } else {\n          target[key] = merge({}, sourceValue);\n        }\n      } else if (is.array(sourceValue)) {\n        target[key] = merge([], sourceValue);\n      } else {\n        target[key] = sourceValue;\n      }\n    }\n  }\n\n  return target;\n};\n\nconst mergeOptions = (...sources) => {\n  sources = sources.map(source => source || {});\n  const merged = merge({}, ...sources);\n  const hooks = {};\n\n  for (const hook of knownHookEvents) {\n    hooks[hook] = [];\n  }\n\n  for (const source of sources) {\n    if (source.hooks) {\n      for (const hook of knownHookEvents) {\n        hooks[hook] = hooks[hook].concat(source.hooks[hook]);\n      }\n    }\n  }\n\n  merged.hooks = hooks;\n  return merged;\n};\n\nconst mergeInstances = (instances, methods) => {\n  const handlers = instances.map(instance => instance.defaults.handler);\n  const size = instances.length - 1;\n  return {\n    methods,\n    options: mergeOptions(...instances.map(instance => instance.defaults.options)),\n    handler: (options, next) => {\n      let iteration = -1;\n\n      const iterate = options => handlers[++iteration](options, iteration === size ? next : iterate);\n\n      return iterate(options);\n    }\n  };\n};\n\nmodule.exports = merge;\nmodule.exports.options = mergeOptions;\nmodule.exports.instances = mergeInstances;","map":{"version":3,"sources":["/Users/kanavmittal/Downloads/Anonymous-Doubt-Session-Application-Ashank-App/node_modules/got/source/merge.js"],"names":["URL","require","is","knownHookEvents","merge","target","sources","source","key","sourceValue","Object","entries","undefined","targetValue","urlInstance","string","plainObject","array","mergeOptions","map","merged","hooks","hook","concat","mergeInstances","instances","methods","handlers","instance","defaults","handler","size","length","options","next","iteration","iterate","module","exports"],"mappings":"AAAA;;AACA,MAAM;AAACA,EAAAA;AAAD,IAAQC,OAAO,CAAC,KAAD,CAArB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,kBAAD,CAAlB;;AACA,MAAME,eAAe,GAAGF,OAAO,CAAC,qBAAD,CAA/B;;AAEA,MAAMG,KAAK,GAAG,CAACC,MAAD,EAAS,GAAGC,OAAZ,KAAwB;AACrC,OAAK,MAAMC,MAAX,IAAqBD,OAArB,EAA8B;AAC7B,SAAK,MAAM,CAACE,GAAD,EAAMC,WAAN,CAAX,IAAiCC,MAAM,CAACC,OAAP,CAAeJ,MAAf,CAAjC,EAAyD;AACxD,UAAIL,EAAE,CAACU,SAAH,CAAaH,WAAb,CAAJ,EAA+B;AAC9B;AACA;;AAED,YAAMI,WAAW,GAAGR,MAAM,CAACG,GAAD,CAA1B;;AACA,UAAIN,EAAE,CAACY,WAAH,CAAeD,WAAf,MAAgCX,EAAE,CAACY,WAAH,CAAeL,WAAf,KAA+BP,EAAE,CAACa,MAAH,CAAUN,WAAV,CAA/D,CAAJ,EAA4F;AAC3FJ,QAAAA,MAAM,CAACG,GAAD,CAAN,GAAc,IAAIR,GAAJ,CAAQS,WAAR,EAAqBI,WAArB,CAAd;AACA,OAFD,MAEO,IAAIX,EAAE,CAACc,WAAH,CAAeP,WAAf,CAAJ,EAAiC;AACvC,YAAIP,EAAE,CAACc,WAAH,CAAeH,WAAf,CAAJ,EAAiC;AAChCR,UAAAA,MAAM,CAACG,GAAD,CAAN,GAAcJ,KAAK,CAAC,EAAD,EAAKS,WAAL,EAAkBJ,WAAlB,CAAnB;AACA,SAFD,MAEO;AACNJ,UAAAA,MAAM,CAACG,GAAD,CAAN,GAAcJ,KAAK,CAAC,EAAD,EAAKK,WAAL,CAAnB;AACA;AACD,OANM,MAMA,IAAIP,EAAE,CAACe,KAAH,CAASR,WAAT,CAAJ,EAA2B;AACjCJ,QAAAA,MAAM,CAACG,GAAD,CAAN,GAAcJ,KAAK,CAAC,EAAD,EAAKK,WAAL,CAAnB;AACA,OAFM,MAEA;AACNJ,QAAAA,MAAM,CAACG,GAAD,CAAN,GAAcC,WAAd;AACA;AACD;AACD;;AAED,SAAOJ,MAAP;AACA,CAzBD;;AA2BA,MAAMa,YAAY,GAAG,CAAC,GAAGZ,OAAJ,KAAgB;AACpCA,EAAAA,OAAO,GAAGA,OAAO,CAACa,GAAR,CAAYZ,MAAM,IAAIA,MAAM,IAAI,EAAhC,CAAV;AACA,QAAMa,MAAM,GAAGhB,KAAK,CAAC,EAAD,EAAK,GAAGE,OAAR,CAApB;AAEA,QAAMe,KAAK,GAAG,EAAd;;AACA,OAAK,MAAMC,IAAX,IAAmBnB,eAAnB,EAAoC;AACnCkB,IAAAA,KAAK,CAACC,IAAD,CAAL,GAAc,EAAd;AACA;;AAED,OAAK,MAAMf,MAAX,IAAqBD,OAArB,EAA8B;AAC7B,QAAIC,MAAM,CAACc,KAAX,EAAkB;AACjB,WAAK,MAAMC,IAAX,IAAmBnB,eAAnB,EAAoC;AACnCkB,QAAAA,KAAK,CAACC,IAAD,CAAL,GAAcD,KAAK,CAACC,IAAD,CAAL,CAAYC,MAAZ,CAAmBhB,MAAM,CAACc,KAAP,CAAaC,IAAb,CAAnB,CAAd;AACA;AACD;AACD;;AAEDF,EAAAA,MAAM,CAACC,KAAP,GAAeA,KAAf;AAEA,SAAOD,MAAP;AACA,CApBD;;AAsBA,MAAMI,cAAc,GAAG,CAACC,SAAD,EAAYC,OAAZ,KAAwB;AAC9C,QAAMC,QAAQ,GAAGF,SAAS,CAACN,GAAV,CAAcS,QAAQ,IAAIA,QAAQ,CAACC,QAAT,CAAkBC,OAA5C,CAAjB;AACA,QAAMC,IAAI,GAAGN,SAAS,CAACO,MAAV,GAAmB,CAAhC;AAEA,SAAO;AACNN,IAAAA,OADM;AAENO,IAAAA,OAAO,EAAEf,YAAY,CAAC,GAAGO,SAAS,CAACN,GAAV,CAAcS,QAAQ,IAAIA,QAAQ,CAACC,QAAT,CAAkBI,OAA5C,CAAJ,CAFf;AAGNH,IAAAA,OAAO,EAAE,CAACG,OAAD,EAAUC,IAAV,KAAmB;AAC3B,UAAIC,SAAS,GAAG,CAAC,CAAjB;;AACA,YAAMC,OAAO,GAAGH,OAAO,IAAIN,QAAQ,CAAC,EAAEQ,SAAH,CAAR,CAAsBF,OAAtB,EAA+BE,SAAS,KAAKJ,IAAd,GAAqBG,IAArB,GAA4BE,OAA3D,CAA3B;;AAEA,aAAOA,OAAO,CAACH,OAAD,CAAd;AACA;AARK,GAAP;AAUA,CAdD;;AAgBAI,MAAM,CAACC,OAAP,GAAiBlC,KAAjB;AACAiC,MAAM,CAACC,OAAP,CAAeL,OAAf,GAAyBf,YAAzB;AACAmB,MAAM,CAACC,OAAP,CAAeb,SAAf,GAA2BD,cAA3B","sourcesContent":["'use strict';\nconst {URL} = require('url');\nconst is = require('@sindresorhus/is');\nconst knownHookEvents = require('./known-hook-events');\n\nconst merge = (target, ...sources) => {\n\tfor (const source of sources) {\n\t\tfor (const [key, sourceValue] of Object.entries(source)) {\n\t\t\tif (is.undefined(sourceValue)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst targetValue = target[key];\n\t\t\tif (is.urlInstance(targetValue) && (is.urlInstance(sourceValue) || is.string(sourceValue))) {\n\t\t\t\ttarget[key] = new URL(sourceValue, targetValue);\n\t\t\t} else if (is.plainObject(sourceValue)) {\n\t\t\t\tif (is.plainObject(targetValue)) {\n\t\t\t\t\ttarget[key] = merge({}, targetValue, sourceValue);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[key] = merge({}, sourceValue);\n\t\t\t\t}\n\t\t\t} else if (is.array(sourceValue)) {\n\t\t\t\ttarget[key] = merge([], sourceValue);\n\t\t\t} else {\n\t\t\t\ttarget[key] = sourceValue;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn target;\n};\n\nconst mergeOptions = (...sources) => {\n\tsources = sources.map(source => source || {});\n\tconst merged = merge({}, ...sources);\n\n\tconst hooks = {};\n\tfor (const hook of knownHookEvents) {\n\t\thooks[hook] = [];\n\t}\n\n\tfor (const source of sources) {\n\t\tif (source.hooks) {\n\t\t\tfor (const hook of knownHookEvents) {\n\t\t\t\thooks[hook] = hooks[hook].concat(source.hooks[hook]);\n\t\t\t}\n\t\t}\n\t}\n\n\tmerged.hooks = hooks;\n\n\treturn merged;\n};\n\nconst mergeInstances = (instances, methods) => {\n\tconst handlers = instances.map(instance => instance.defaults.handler);\n\tconst size = instances.length - 1;\n\n\treturn {\n\t\tmethods,\n\t\toptions: mergeOptions(...instances.map(instance => instance.defaults.options)),\n\t\thandler: (options, next) => {\n\t\t\tlet iteration = -1;\n\t\t\tconst iterate = options => handlers[++iteration](options, iteration === size ? next : iterate);\n\n\t\t\treturn iterate(options);\n\t\t}\n\t};\n};\n\nmodule.exports = merge;\nmodule.exports.options = mergeOptions;\nmodule.exports.instances = mergeInstances;\n"]},"metadata":{},"sourceType":"script"}
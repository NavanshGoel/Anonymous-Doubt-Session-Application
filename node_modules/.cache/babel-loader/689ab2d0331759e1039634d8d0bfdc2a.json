{"ast":null,"code":"'use strict';\n\nconst errors = require('./errors');\n\nconst asStream = require('./as-stream');\n\nconst asPromise = require('./as-promise');\n\nconst normalizeArguments = require('./normalize-arguments');\n\nconst merge = require('./merge');\n\nconst deepFreeze = require('./utils/deep-freeze');\n\nconst getPromiseOrStream = options => options.stream ? asStream(options) : asPromise(options);\n\nconst aliases = ['get', 'post', 'put', 'patch', 'head', 'delete'];\n\nconst create = defaults => {\n  defaults = merge({}, defaults);\n  normalizeArguments.preNormalize(defaults.options);\n\n  if (!defaults.handler) {\n    // This can't be getPromiseOrStream, because when merging\n    // the chain would stop at this point and no further handlers would be called.\n    defaults.handler = (options, next) => next(options);\n  }\n\n  function got(url, options) {\n    try {\n      return defaults.handler(normalizeArguments(url, options, defaults), getPromiseOrStream);\n    } catch (error) {\n      if (options && options.stream) {\n        throw error;\n      } else {\n        return Promise.reject(error);\n      }\n    }\n  }\n\n  got.create = create;\n\n  got.extend = options => {\n    let mutableDefaults;\n\n    if (options && Reflect.has(options, 'mutableDefaults')) {\n      mutableDefaults = options.mutableDefaults;\n      delete options.mutableDefaults;\n    } else {\n      mutableDefaults = defaults.mutableDefaults;\n    }\n\n    return create({\n      options: merge.options(defaults.options, options),\n      handler: defaults.handler,\n      mutableDefaults\n    });\n  };\n\n  got.mergeInstances = (...args) => create(merge.instances(args));\n\n  got.stream = (url, options) => got(url, { ...options,\n    stream: true\n  });\n\n  for (const method of aliases) {\n    got[method] = (url, options) => got(url, { ...options,\n      method\n    });\n\n    got.stream[method] = (url, options) => got.stream(url, { ...options,\n      method\n    });\n  }\n\n  Object.assign(got, { ...errors,\n    mergeOptions: merge.options\n  });\n  Object.defineProperty(got, 'defaults', {\n    value: defaults.mutableDefaults ? defaults : deepFreeze(defaults),\n    writable: defaults.mutableDefaults,\n    configurable: defaults.mutableDefaults,\n    enumerable: true\n  });\n  return got;\n};\n\nmodule.exports = create;","map":{"version":3,"sources":["/Users/kanavmittal/Downloads/Anonymous-Doubt-Session-Application-Ashank-App/node_modules/got/source/create.js"],"names":["errors","require","asStream","asPromise","normalizeArguments","merge","deepFreeze","getPromiseOrStream","options","stream","aliases","create","defaults","preNormalize","handler","next","got","url","error","Promise","reject","extend","mutableDefaults","Reflect","has","mergeInstances","args","instances","method","Object","assign","mergeOptions","defineProperty","value","writable","configurable","enumerable","module","exports"],"mappings":"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","sourcesContent":["'use strict';\nconst errors = require('./errors');\nconst asStream = require('./as-stream');\nconst asPromise = require('./as-promise');\nconst normalizeArguments = require('./normalize-arguments');\nconst merge = require('./merge');\nconst deepFreeze = require('./utils/deep-freeze');\n\nconst getPromiseOrStream = options => options.stream ? asStream(options) : asPromise(options);\n\nconst aliases = [\n\t'get',\n\t'post',\n\t'put',\n\t'patch',\n\t'head',\n\t'delete'\n];\n\nconst create = defaults => {\n\tdefaults = merge({}, defaults);\n\tnormalizeArguments.preNormalize(defaults.options);\n\n\tif (!defaults.handler) {\n\t\t// This can't be getPromiseOrStream, because when merging\n\t\t// the chain would stop at this point and no further handlers would be called.\n\t\tdefaults.handler = (options, next) => next(options);\n\t}\n\n\tfunction got(url, options) {\n\t\ttry {\n\t\t\treturn defaults.handler(normalizeArguments(url, options, defaults), getPromiseOrStream);\n\t\t} catch (error) {\n\t\t\tif (options && options.stream) {\n\t\t\t\tthrow error;\n\t\t\t} else {\n\t\t\t\treturn Promise.reject(error);\n\t\t\t}\n\t\t}\n\t}\n\n\tgot.create = create;\n\tgot.extend = options => {\n\t\tlet mutableDefaults;\n\t\tif (options && Reflect.has(options, 'mutableDefaults')) {\n\t\t\tmutableDefaults = options.mutableDefaults;\n\t\t\tdelete options.mutableDefaults;\n\t\t} else {\n\t\t\tmutableDefaults = defaults.mutableDefaults;\n\t\t}\n\n\t\treturn create({\n\t\t\toptions: merge.options(defaults.options, options),\n\t\t\thandler: defaults.handler,\n\t\t\tmutableDefaults\n\t\t});\n\t};\n\n\tgot.mergeInstances = (...args) => create(merge.instances(args));\n\n\tgot.stream = (url, options) => got(url, {...options, stream: true});\n\n\tfor (const method of aliases) {\n\t\tgot[method] = (url, options) => got(url, {...options, method});\n\t\tgot.stream[method] = (url, options) => got.stream(url, {...options, method});\n\t}\n\n\tObject.assign(got, {...errors, mergeOptions: merge.options});\n\tObject.defineProperty(got, 'defaults', {\n\t\tvalue: defaults.mutableDefaults ? defaults : deepFreeze(defaults),\n\t\twritable: defaults.mutableDefaults,\n\t\tconfigurable: defaults.mutableDefaults,\n\t\tenumerable: true\n\t});\n\n\treturn got;\n};\n\nmodule.exports = create;\n"]},"metadata":{},"sourceType":"script"}
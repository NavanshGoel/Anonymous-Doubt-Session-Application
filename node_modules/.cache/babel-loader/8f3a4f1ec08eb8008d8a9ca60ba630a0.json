{"ast":null,"code":"'use strict';\n\nconst decompressResponse = require('decompress-response');\n\nconst is = require('@sindresorhus/is');\n\nconst mimicResponse = require('mimic-response');\n\nconst progress = require('./progress');\n\nmodule.exports = (response, options, emitter) => {\n  const downloadBodySize = Number(response.headers['content-length']) || null;\n  const progressStream = progress.download(response, emitter, downloadBodySize);\n  mimicResponse(response, progressStream);\n  const newResponse = options.decompress === true && is.function(decompressResponse) && options.method !== 'HEAD' ? decompressResponse(progressStream) : progressStream;\n\n  if (!options.decompress && ['gzip', 'deflate'].includes(response.headers['content-encoding'])) {\n    options.encoding = null;\n  }\n\n  emitter.emit('response', newResponse);\n  emitter.emit('downloadProgress', {\n    percent: 0,\n    transferred: 0,\n    total: downloadBodySize\n  });\n  response.pipe(progressStream);\n};","map":{"version":3,"sources":["/Users/kanavmittal/Downloads/Anonymous-Doubt-Session-Application-Ashank-App/node_modules/got/source/get-response.js"],"names":["decompressResponse","require","is","mimicResponse","progress","module","exports","response","options","emitter","downloadBodySize","Number","headers","progressStream","download","newResponse","decompress","function","method","includes","encoding","emit","percent","transferred","total","pipe"],"mappings":"AAAA;;AACA,MAAMA,kBAAkB,GAAGC,OAAO,CAAC,qBAAD,CAAlC;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,kBAAD,CAAlB;;AACA,MAAME,aAAa,GAAGF,OAAO,CAAC,gBAAD,CAA7B;;AACA,MAAMG,QAAQ,GAAGH,OAAO,CAAC,YAAD,CAAxB;;AAEAI,MAAM,CAACC,OAAP,GAAiB,CAACC,QAAD,EAAWC,OAAX,EAAoBC,OAApB,KAAgC;AAChD,QAAMC,gBAAgB,GAAGC,MAAM,CAACJ,QAAQ,CAACK,OAAT,CAAiB,gBAAjB,CAAD,CAAN,IAA8C,IAAvE;AAEA,QAAMC,cAAc,GAAGT,QAAQ,CAACU,QAAT,CAAkBP,QAAlB,EAA4BE,OAA5B,EAAqCC,gBAArC,CAAvB;AAEAP,EAAAA,aAAa,CAACI,QAAD,EAAWM,cAAX,CAAb;AAEA,QAAME,WAAW,GAAGP,OAAO,CAACQ,UAAR,KAAuB,IAAvB,IACnBd,EAAE,CAACe,QAAH,CAAYjB,kBAAZ,CADmB,IAEnBQ,OAAO,CAACU,MAAR,KAAmB,MAFA,GAESlB,kBAAkB,CAACa,cAAD,CAF3B,GAE8CA,cAFlE;;AAIA,MAAI,CAACL,OAAO,CAACQ,UAAT,IAAuB,CAAC,MAAD,EAAS,SAAT,EAAoBG,QAApB,CAA6BZ,QAAQ,CAACK,OAAT,CAAiB,kBAAjB,CAA7B,CAA3B,EAA+F;AAC9FJ,IAAAA,OAAO,CAACY,QAAR,GAAmB,IAAnB;AACA;;AAEDX,EAAAA,OAAO,CAACY,IAAR,CAAa,UAAb,EAAyBN,WAAzB;AAEAN,EAAAA,OAAO,CAACY,IAAR,CAAa,kBAAb,EAAiC;AAChCC,IAAAA,OAAO,EAAE,CADuB;AAEhCC,IAAAA,WAAW,EAAE,CAFmB;AAGhCC,IAAAA,KAAK,EAAEd;AAHyB,GAAjC;AAMAH,EAAAA,QAAQ,CAACkB,IAAT,CAAcZ,cAAd;AACA,CAxBD","sourcesContent":["'use strict';\nconst decompressResponse = require('decompress-response');\nconst is = require('@sindresorhus/is');\nconst mimicResponse = require('mimic-response');\nconst progress = require('./progress');\n\nmodule.exports = (response, options, emitter) => {\n\tconst downloadBodySize = Number(response.headers['content-length']) || null;\n\n\tconst progressStream = progress.download(response, emitter, downloadBodySize);\n\n\tmimicResponse(response, progressStream);\n\n\tconst newResponse = options.decompress === true &&\n\t\tis.function(decompressResponse) &&\n\t\toptions.method !== 'HEAD' ? decompressResponse(progressStream) : progressStream;\n\n\tif (!options.decompress && ['gzip', 'deflate'].includes(response.headers['content-encoding'])) {\n\t\toptions.encoding = null;\n\t}\n\n\temitter.emit('response', newResponse);\n\n\temitter.emit('downloadProgress', {\n\t\tpercent: 0,\n\t\ttransferred: 0,\n\t\ttotal: downloadBodySize\n\t});\n\n\tresponse.pipe(progressStream);\n};\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import _toConsumableArray from\"/Users/kanavmittal/Downloads/Anonymous-Doubt-Session-Application-Ashank-App/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/kanavmittal/Downloads/Anonymous-Doubt-Session-Application-Ashank-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kanavmittal/Downloads/Anonymous-Doubt-Session-Application-Ashank-App/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kanavmittal/Downloads/Anonymous-Doubt-Session-Application-Ashank-App/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kanavmittal/Downloads/Anonymous-Doubt-Session-Application-Ashank-App/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import SpeechToText from\"speech-to-text\";import supportedLanguages from\"./supportedLanguages\";import{withStyles}from\"@material-ui/core/styles\";import{Paper,Button,Typography,Table,TableBody,TableCell,TableHead,TableRow,Grid,AppBar,Toolbar,FormControl,InputLabel,Select,MenuItem,FormHelperText}from\"@material-ui/core\";import withWidth,{isWidthUp}from\"@material-ui/core/withWidth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles=function styles(theme){return{root:{paddingTop:65,paddingLeft:11,paddingRight:11},flex:{flex:1},grow:{flexGrow:1},paper:theme.mixins.gutters({paddingTop:22,paddingBottom:22})};};var SpeechToTextDemo=/*#__PURE__*/function(_Component){_inherits(SpeechToTextDemo,_Component);var _super=_createSuper(SpeechToTextDemo);function SpeechToTextDemo(){var _this;_classCallCheck(this,SpeechToTextDemo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={error:\"\",interimText:\"\",finalisedText:[],listening:false,language:\"en-US\"};_this.onAnythingSaid=function(text){_this.setState({interimText:text});};_this.onEndEvent=function(){if(!isWidthUp(\"sm\",_this.props.width)){_this.setState({listening:false});}else if(_this.state.listening){_this.startListening();}};_this.onFinalised=function(text){_this.setState({finalisedText:[text].concat(_toConsumableArray(_this.state.finalisedText)),interimText:\"\"});};_this.startListening=function(){try{_this.listener=new SpeechToText(_this.onFinalised,_this.onEndEvent,_this.onAnythingSaid,_this.state.language);_this.listener.startListening();_this.setState({listening:true});}catch(err){console.log(err);}};_this.stopListening=function(){_this.listener.stopListening();_this.setState({listening:false});};return _this;}_createClass(SpeechToTextDemo,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,error=_this$state.error,interimText=_this$state.interimText,finalisedText=_this$state.finalisedText,listening=_this$state.listening,language=_this$state.language;var classes=this.props.classes;var content;if(error){console.log(error);}else{var buttonForListening;if(listening){buttonForListening=/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this2.stopListening();},children:\"Stop Listening\"});}else{buttonForListening=/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this2.startListening();},variant:\"contained\",children:\"Start Listening\"});}content=/*#__PURE__*/_jsxs(Grid,{container:true,spacing:16,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsx(Paper,{className:this.props.classes.paper,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:16,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,lg:6,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"overline\",gutterBottom:true,children:[\"Status: \",listening?\"listening...\":\"finished listening\"]}),/*#__PURE__*/_jsx(\"br\",{}),buttonForListening]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:6,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Language\"}),/*#__PURE__*/_jsx(Select,{value:language,onChange:function onChange(evt){return _this2.setState({language:evt.target.value});},disabled:listening,children:supportedLanguages.map(function(language){return/*#__PURE__*/_jsx(MenuItem,{value:language[1],children:language[0]},language[1]);})}),/*#__PURE__*/_jsx(FormHelperText,{children:\"What language are you going to speak in?\"})]})})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Table,{className:classes.table,children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{children:\"Finalised Text\"})})}),/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:finalisedText[0]})})})]})})]});}return/*#__PURE__*/_jsx(Grid,{container:true,children:content});}}]);return SpeechToTextDemo;}(Component);export default withWidth()(withStyles(styles)(SpeechToTextDemo));","map":{"version":3,"sources":["/Users/kanavmittal/Downloads/Anonymous-Doubt-Session-Application-Ashank-App/src/components/SpeechToText/SpeechToText.jsx"],"names":["React","Component","SpeechToText","supportedLanguages","withStyles","Paper","Button","Typography","Table","TableBody","TableCell","TableHead","TableRow","Grid","AppBar","Toolbar","FormControl","InputLabel","Select","MenuItem","FormHelperText","withWidth","isWidthUp","styles","theme","root","paddingTop","paddingLeft","paddingRight","flex","grow","flexGrow","paper","mixins","gutters","paddingBottom","SpeechToTextDemo","state","error","interimText","finalisedText","listening","language","onAnythingSaid","text","setState","onEndEvent","props","width","startListening","onFinalised","listener","err","console","log","stopListening","classes","content","buttonForListening","formControl","evt","target","value","map","table"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SpeechToText from \"speech-to-text\";\nimport supportedLanguages from \"./supportedLanguages\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n  Paper,\n  Button,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Grid,\n  AppBar,\n  Toolbar,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  FormHelperText,\n} from \"@material-ui/core\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\n\nconst styles = (theme) => ({\n  root: {\n    paddingTop: 65,\n    paddingLeft: 11,\n    paddingRight: 11,\n  },\n  flex: {\n    flex: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  paper: theme.mixins.gutters({\n    paddingTop: 22,\n    paddingBottom: 22,\n  }),\n});\n\nclass SpeechToTextDemo extends Component {\n  state = {\n    error: \"\",\n    interimText: \"\",\n    finalisedText: [],\n    listening: false,\n    language: \"en-US\",\n  };\n\n  onAnythingSaid = (text) => {\n    this.setState({ interimText: text });\n  };\n\n  onEndEvent = () => {\n    if (!isWidthUp(\"sm\", this.props.width)) {\n      this.setState({ listening: false });\n    } else if (this.state.listening) {\n      this.startListening();\n    }\n  };\n\n  onFinalised = (text) => {\n    this.setState({\n      finalisedText: [text, ...this.state.finalisedText],\n      interimText: \"\",\n    });\n  };\n\n  startListening = () => {\n    try {\n      this.listener = new SpeechToText(\n        this.onFinalised,\n        this.onEndEvent,\n        this.onAnythingSaid,\n        this.state.language\n      );\n      this.listener.startListening();\n      this.setState({ listening: true });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  stopListening = () => {\n    this.listener.stopListening();\n    this.setState({ listening: false });\n  };\n\n  render() {\n    const {\n      error,\n      interimText,\n      finalisedText,\n      listening,\n      language,\n    } = this.state;\n    const { classes } = this.props;\n    let content;\n    if (error) {\n      console.log(error);\n    } else {\n      let buttonForListening;\n\n      if (listening) {\n        buttonForListening = (\n          <Button onClick={() => this.stopListening()}>Stop Listening</Button>\n        );\n      } else {\n        buttonForListening = (\n          <Button onClick={() => this.startListening()} variant=\"contained\">\n            Start Listening\n          </Button>\n        );\n      }\n      content = (\n        <Grid container spacing={16}>\n          <Grid item xs={12} md={12}>\n            <Paper className={this.props.classes.paper}>\n              <Grid container spacing={16}>\n                <Grid item xs={12} lg={6}>\n                  <Typography variant=\"overline\" gutterBottom>\n                    Status: {listening ? \"listening...\" : \"finished listening\"}\n                  </Typography>\n                  <br />\n                  {buttonForListening}\n                </Grid>\n                <Grid item xs={12} lg={6}>\n                  <FormControl className={classes.formControl}>\n                    <InputLabel>Language</InputLabel>\n                    <Select\n                      value={language}\n                      onChange={(evt) =>\n                        this.setState({ language: evt.target.value })\n                      }\n                      disabled={listening}\n                    >\n                      {supportedLanguages.map((language) => (\n                        <MenuItem key={language[1]} value={language[1]}>\n                          {language[0]}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                    <FormHelperText>\n                      What language are you going to speak in?\n                    </FormHelperText>\n                  </FormControl>\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          <Grid item xs={12}>\n            <Table className={classes.table}>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Finalised Text</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {finalisedText[0]}\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </Grid>\n        </Grid>\n      );\n    }\n    return <Grid container>{content}</Grid>;\n  }\n}\nexport default withWidth()(withStyles(styles)(SpeechToTextDemo));\n"]},"metadata":{},"sourceType":"module"}